/*!
 * vuex-cache v3.1.0
 * (c) superwf@gmail.com
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VuexCache={})}(this,function(e){"use strict";var t,n=function(e){return!!e&&"object"==typeof e},r=new Error("Can't generate key from parameters."),a=function(e){try{var t=function(e){return n(e[0])?[e[0].type,e[0],e[1]]:e}(e),a=t[0],c=t[1];return a+":"+(n(o=c)?JSON.stringify(o):String(o))}catch(e){return r}var o},c=function(e){return n(e)&&"number"==typeof e.timeout},o=function(e){return!!e&&Date.now()>e},i=new Map,u=function(e,t){var u={dispatch:function(){for(var n=[],u=arguments.length;u--;)n[u]=arguments[u];var f=a(n);if(f===r)return e.dispatch.apply(e,n);var s=i.get(f)||{},p=s.value,l=s.expiresIn;if(p&&!o(l))return p;var h=function(e,t){var n="string"==typeof e[0]?e[2]:e[0];return c(n)?n.timeout:c(t)?t.timeout:0}(n,t),v={expiresIn:h?Date.now()+h:void 0,value:e.dispatch.apply(e,n)};return i.set(f,v),v.value.catch(function(e){return i.delete(f),Promise.reject(e)})},has:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var c=a(e);if(c===r)return!1;var u=i.get(c);return n(u)&&!o(u.expiresIn)},clear:function(){return i.clear()},delete:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=a(e);return n!==r&&i.delete(n)},deleteAll:function(e){for(var t=0,n=i.keys();t<n.length;t+=1){var r=n[t];r.startsWith(e+":")&&i.delete(r)}}};for(var s in Object.defineProperty(e,"cache",{value:u,writable:!1,enumerable:!0,configurable:!1}),e._modulesNamespaceMap){var p=f(e,"mapCacheActions",s);Object.defineProperty(p.context,"cache",{value:u,writable:!1,enumerable:!0,configurable:!1})}},f=function(e,t,n){var r=e._modulesNamespaceMap[n];return"production"===process.env.NODE_ENV||r||console.error("[vuex-cache] module namespace not found in "+t+"(): "+n),r},s=(t=function(e,t){var n,r={};return(n=t,Array.isArray(n)?n.map(function(e){return{key:e,val:e}}):Object.keys(n).map(function(e){return{key:e,val:n[e]}})).forEach(function(t){var n=t.key,a=t.val;r[n]=function(){for(var t=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];var c=this.$store.cache.dispatch;if(e){var o=f(this.$store,"mapCacheActions",e);if(!o)return;c="function"==typeof a?function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];o.context.cache.dispatch.apply(t.$store,[""+e+n[0]].concat(n.slice(1)))}:o.context.cache.dispatch}return"function"==typeof a?a.apply(this,[c].concat(n)):c.apply(this.$store,[""+e+a].concat(n))}}),r},function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)});e.cacheAction=function(e,t){return function(n,r){return u(n,t),e.call(this,n,r)}},e.default=function(e){return function(t){return u(t,e)}},e.mapCacheActions=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vuex-cache.umd.min.js.map
